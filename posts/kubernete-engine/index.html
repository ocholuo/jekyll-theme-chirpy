<!DOCTYPE html><html lang="en-US" mode="light" ><head> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="pv-cache-path" content="/true"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine" /><meta property="og:locale" content="en_US" /><meta name="description" content="Google Cloud Computing - Kubernetes and Kubernetes Engine GCP Compute Engine Kubernetes cluster node pod The Kubernetes Control Plane GKE (Kubernetes Engine) to build Kubernetes cluster build Kubernetes cluster, deploy pods, by Kubernetes Engine deployment Services Kubernetes object model. configuration file update version of the application/container modern Hybrid on Multi-Cloud Computing (Anthos) on-premises distributed systems architecture. modern hybrid ON multi-cloud architecture Anthos build a modern hybrid infrastructure stack with Anthos." /><meta property="og:description" content="Google Cloud Computing - Kubernetes and Kubernetes Engine GCP Compute Engine Kubernetes cluster node pod The Kubernetes Control Plane GKE (Kubernetes Engine) to build Kubernetes cluster build Kubernetes cluster, deploy pods, by Kubernetes Engine deployment Services Kubernetes object model. configuration file update version of the application/container modern Hybrid on Multi-Cloud Computing (Anthos) on-premises distributed systems architecture. modern hybrid ON multi-cloud architecture Anthos build a modern hybrid infrastructure stack with Anthos." /><link rel="canonical" href="https://ocholuo.github.io//posts/kubernete-engine/" /><meta property="og:url" content="https://ocholuo.github.io//posts/kubernete-engine/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-01T10:11:11-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Google Cloud Computing - Kubernetes and Kubernetes Engine GCP Compute Engine Kubernetes cluster node pod The Kubernetes Control Plane GKE (Kubernetes Engine) to build Kubernetes cluster build Kubernetes cluster, deploy pods, by Kubernetes Engine deployment Services Kubernetes object model. configuration file update version of the application/container modern Hybrid on Multi-Cloud Computing (Anthos) on-premises distributed systems architecture. modern hybrid ON multi-cloud architecture Anthos build a modern hybrid infrastructure stack with Anthos.","headline":"GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine","dateModified":"2021-06-21T20:59:17-04:00","url":"https://ocholuo.github.io//posts/kubernete-engine/","datePublished":"2021-01-01T10:11:11-05:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/kubernete-engine/"},"@context":"https://schema.org"}</script><title>GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script async src="/assets/js/dist/pvreport.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/rabbit.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2021 Jun 22 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Jan 1, 2021, 10:11 AM -0500" prep="on" > Jan 1 <i class="unloaded">2021-01-01T10:11:11-05:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Jun 21, 2021, 8:59 PM -0400" prefix="Updated " > Jun 21 <i class="unloaded">2021-06-21T20:59:17-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4933 words">27 min</span> <span id="pv" class="pageviews"><i class="fas fa-spinner fa-spin fa-fw"></i></span></div></div><div class="post-content"><ul><li><a href="#google-cloud-computing---kubernetes-and-kubernetes-engine">Google Cloud Computing - Kubernetes and Kubernetes Engine</a><ul><li><a href="#gcp-compute-engine">GCP Compute Engine</a><li><a href="#kubernetes">Kubernetes</a><ul><li><a href="#cluster">cluster</a><li><a href="#node">node</a><li><a href="#pod">pod</a></ul><li><a href="#the-kubernetes-control-plane">The Kubernetes Control Plane</a><li><a href="#gke-kubernetes-engine">GKE (Kubernetes Engine)</a><li><a href="#to-build-kubernetes-cluster">to build Kubernetes cluster</a><ul><li><a href="#build-kubernetes-cluster-deploy-pods-by-kubernetes-engine">build Kubernetes cluster, deploy pods, by Kubernetes Engine</a><li><a href="#deployment">deployment</a><li><a href="#services">Services</a></ul><li><a href="#kubernetes-object-model">Kubernetes object model.</a><ul><li><a href="#configuration-file">configuration file</a><li><a href="#update-version-of-the-applicationcontainer">update version of the application/container</a></ul><li><a href="#modern-hybrid-on-multi-cloud-computing-anthos">modern Hybrid on Multi-Cloud Computing (Anthos)</a><ul><li><a href="#on-premises-distributed-systems-architecture">on-premises distributed systems architecture.</a><li><a href="#modern-hybrid-on-multi-cloud-architecture">modern hybrid ON multi-cloud architecture</a></ul><li><a href="#anthos">Anthos</a><ul><li><a href="#build-a-modern-hybrid-infrastructure-stack-with-anthos">build a modern hybrid infrastructure stack with Anthos.</a></ul></ul></ul><hr /><h1 id="google-cloud-computing---kubernetes-and-kubernetes-engine">Google Cloud Computing - Kubernetes and Kubernetes Engine</h1><hr /><h2 id="gcp-compute-engine">GCP Compute Engine</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/DIreiTC.png" alt="Screen Shot 2021-02-07 at 00.06.44" /></p><p>Compute Engine</p><ul><li>GCPs Infrastructure as a Service<li>run Virtual Machine in the cloud and gives you persistent storage and networking for them</ul><p>App Engine</p><ul><li>one of GCP’s platform as a service offerings.</ul><p>Kubernetes Engine.</p><ul><li>like Infrastructure as a Service,<ul><li>it saves you infrastructure chores.</ul><li>like a platform as a service offering,<ul><li>it was built with the needs of developers in mind.</ul></ul><hr /><h2 id="kubernetes">Kubernetes</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/zoPNLpx.png" alt="Screen Shot 2021-02-07 at 14.29.23" /></p><blockquote><p>kubectl</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/lUUjWuY.png" alt="Screen Shot 2021-02-11 at 23.08.12" /></p><ul><li><p>a software layer that sits between the applications and the hardware infrastructure.</p><li>an open-source orchestrator<ul><li>a project of the Vendor Neutral Cloud Native Computing Foundation.</ul><li>a popular container management and orchestration solution<ul><li>for containers to better manage and scale the applications.<li>describe a set of applications and how they should interact with each other,<li>and Kubernetes figures out how to make that happen.<li>it abstracts away the underlying infrastructure,<li>to easier consistently run and manage the applications.<li>launch one or more Pods and ensure that a specified number of them succcessfully run to completion and exit.</ul><li>Kubernetes facilitates<ul><li>the features of PaaS<ul><li>it automates the deployment scaling, load balancing, logging, monitoring, and other management features of containerized applications.</ul><li>the features of IaaS<ul><li>such as allowing a wide range of user preferences and configuration flexibility.</ul></ul><li>automatically scale in and out containerized applications based on resource utilization.<ul><li>can specify resource requests levels and resource limits for the workloads and Kubernetes will obey them.<li>These resource controls like Kubernetes, improve overall workload performance within the cluster.</ul><li><p>offers an API that let authorized people control its operation through several utilities.</p><li>Kubernetes supports <font color="red"> declarative configurations </font><ul><li>administer the infrastructure declaratively,<ul><li>describe the desired state to achieve instead of commands to achieve that state.<li>Kubernetes make the deployed system conform to the desired state<li>and then keep it there in spite of failures.</ul><li>Declarative configuration<ul><li>saves you work.<li>Because the system is desired state is always documented,<li>reduces the risk of error.</ul><li>Kubernetes also allows <font color="red"> imperative configuration </font><ul><li>issue commands to change the system state.<li>But administering Kubernetes as scale imperatively, will be a big missed opportunity.</ul><li> <font color="blue"> One of the primary strengths of Kubernetes is its ability to automatically keep a system in a state that you declare </font><ul><li>Experienced Kubernetes administrators use imperative configuration<ul><li>only for quick temporary fixes<li>and as a tool in building a declarative configuration.</ul></ul></ul><li>Kubernetes supports different workload types.<ul><li>stateless applications<ul><li>such as an Nginx or Apache web server,</ul><li>stateful applications<ul><li>where user in session data can be stored persistently.</ul><li>It also supports batched jobs and demon tasks.</ul><li>extensibility<ul><li>Developers extend Kubernetes through a rich ecosystem of plugins and add-ons.<li>For example, there’s a lot of creativity going on currently with Kubernetes custom resource definitions which bring the Kubernetes declarative Management Model to amazing variety of other things that need to be managed.</ul><li>portability<ul><li>open source,<li>Kubernetes also supports workload portability across On-premises or multiple Cloud service providers such as GCP and others.<li>This allows Kubernetes to be deployed anywhere.<li>You can move Kubernetes workloads freely without a vendor login.</ul></ul><hr /><h3 id="cluster">cluster</h3><ul><li>a set of master components that control the system as a whole and a set of nodes that run containers.<li>A group of machines where Kubernetes can schedule workloads</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/C11YGDm.png" alt="Screen Shot 2021-02-16 at 00.47.00" /></p><p>GKE regional cluster</p><ul><li>if the entire Compute Zone goes down<li>Regional clusters have a single API endpoint for the cluster.<ul><li>but it’s masters and nodes are spread out across <code class="language-plaintext highlighter-rouge">multiple Compute Engine zones</code> within a region.</ul><li>ensure that the availability of the application is maintained across multiple zones in a single region.<li>In addition, the availability of the master is also maintained so that both the application and management functionality can withstand the loss of one or more, but not all zones.<li>By default are regional cluster is spread across three zones<ul><li>each containing one master and three nodes.<li>These numbers can be increased or decreased.<li>but will have exactly the same number of nodes in each of the other zones</ul></ul><p>zonal cluster</p><ul><li>By default, a cluster launches in a single GCP Compute Zone with three identical nodes, all in one node pool.<ul><li>The number of nodes can be changed during or after the creation of the cluster.<li>Adding more nodes and deploying multiple replicas of an application<ul><li>will improve an applications availability</ul></ul><li>Once you build a zonal cluster, you can’t convert it into a regional cluster or vice versa.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/ihgt55y.png" alt="Screen Shot 2021-02-16 at 00.47.21" /></p><p>private cluster.</p><ul><li><code class="language-plaintext highlighter-rouge">Regional and zonal GKE clusters</code> can also be setup as a private cluster.<li>The entire cluster that is the master<li>and it’s nodes are hidden from the public Internet.<li>Cluster masters can be accessed by Google Cloud products such as Stack driver through an internal IP address.<li>They can also be accessed by authorized networks through an external IP address.<ul><li>Authorize networks are basically IP address ranges that are trusted to access the master.</ul><li>nodes can have limited outbound access through private Google access, which allows them to communicate with other GCP services.<ul><li>Example,<li>nodes can pull Container images from Google Container Registry without needing external IP addresses.</ul></ul><hr /><h3 id="node">node</h3><ul><li>a group of containers<li>a node represents a computing instance.<li><p>nodes are virtual machines running in Compute Engine.</p><li>In any Kubernetes environment, nodes are created externally by cluster administrators, not by Kubernetes itself.<ul><li>GKE automates this process for you.<li>It launches Compute Engine virtual machine instances and registers them as nodes.<li>You can manage node settings directly from the GCP console.</ul><li><p>You pay per hour of life of your nodes, not counting the master.</p><li>Because nodes run on Compute Engine<ul><li>choose your node machine type when you create your cluster.<ul><li>By default, the node machine type is N1 standard one, which provides one virtual CPU and 3.75 gigabytes of memory.</ul><li>customize your nodes, number of cores, and their memory capacity.<li>select a CPU Platform.<li>choose a baseline minimum CPU platform for the nodes or node pool.<li>This allows you to improve node performance.</ul><li>You can also select multiple node machine types by creating multiple node pools.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/HDPNMqy.png" alt="Screen Shot 2021-02-16 at 00.46.34" /></p><p>A node pool</p><ul><li>a subset of nodes within a cluster that share a configuration<ul><li>such as their amount of memory or their CPU generation.</ul><li>easy way to ensure that workloads run on the right hardware within your cluster.<ul><li>You just label them with a desired node pool.</ul><li><p>node pool are GKE feature rather than a Kubernetes feature.</p><li><p>You can build an analogist mechanism within open-source Kubernetes, but you would have to maintain it yourself.</p><li><p>You can enable automatic node upgrades, automatic node repairs, and cluster auto-scaling at this node pool level.</p><li>Some of each node CPU and memory are needed to run the GKE and Kubernetes components that let it work as part of your cluster.<ul><li>For example<li>allocate nodes with 15 gigabytes of memory,<li>not quite all of that 15 gigabytes will be available for use by pods.</ul></ul><hr /><h3 id="pod">pod</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/86QrtZe.png" alt="Screen Shot 2021-02-07 at 14.51.15" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/GxzAwZP.png" alt="Screen Shot 2021-02-15 at 20.45.25" /></p><ul><li>Kubernetes deploys <font color="blue"> a container or a set of related containers </font> inside pod.<li>the <font color="blue"> smallest deployable unit </font> in Kubernetes.<ul><li>the basic building block of the standard Kubernetes model<li>the smallest deployable Kubernetes object.<li>pod is like running process on the cluster.</ul><li><p>the pod could be <font color="blue"> one component of the application or an entire application </font></p><li>A pod embodies the environment where the containers live.<ul><li>That environment can accommodate one or more containers.<li>If there is more than one container in a pod<ul><li>have multiple containers with a hard dependency<li>they are tightly coupled and share resources including networking and storage.<li>package them into a single pod.</ul><li>Each pod gets <font color="red"> a unique IP address and set of ports </font> for containers.<ul><li>Every container within a pod shares the network namespace, including IP address and network ports.<li>containers inside a pod can communicate with each other<ul><li>using the <font color="blue"> localhost network interface </font><li>they don’t know or care which nodes they’re deployed on.<li>The famous 127.0.0.1 IP address</ul></ul><li>A pod can also specify a set of Storage volumes to be shared among its containers.</ul></ul><p>Example</p><ul><li>3 instances of the NginX Web server, each in its own container, running all the time.<li>Kubernetes embodies the principle of declarative management.<ul><li>declare some objects to represent those NginX containers: pods<li>Now it is Kubernetes job to launch those pods and keep them in existence.<ul><li>pods are not self healing.<li>to keep all our NginX Web servers not just in existence, but also working together as a team, we might want to ask for them using a more sophisticated object.</ul><li>given Kubernetes a desired state that consists of three NginX pods always kept running.<ul><li>telling Kubernetes to create and maintain one or more objects that represent them.</ul><li>Now, Kubernetes compares the desired state to the current state.<ul><li>The current state does not match the desired state.</ul><li>Kubernetes, specifically it’s control plane<ul><li>remedy the situation<li>the number of desired pods running declared as three<li>zero while presently running,<li>three will be launched.</ul><li>The Kubernetes control plane will continuously monitor the state of the cluster, endlessly comparing reality to what has been declared and remedying the state as needed.</ul></ul><hr /><h2 id="the-kubernetes-control-plane">The Kubernetes Control Plane</h2><p>Kubernetes control plane</p><ul><li>the fleet of cooperating processes that make a Kubernetes cluster work.</ul><p>build up a Kubernetes cluster part by part</p><ul><li>master<ul><li>cluster needs computers.<li>Nowadays, the computers that compose your clusters are usually virtual machines.<li>They always are in GKE, but they could be physical computers too.<li>One computer is called the master and the others are called nodes.<ul><li>The job of the nodes is to run pods.<li>The job of the master is to coordinate the entire cluster.</ul><li>Several Kubernetes components run on the master.</ul></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/pGNhbnF.png" alt="Screen Shot 2021-02-15 at 23.31.17" /></p><p>Kubernetes components</p><ul><li> <font color="red"> kubectl command </font><ul><li>to connect/communicate to kube-APIserver by Kubernetes API.</ul><li> <font color="red"> kube-APIserver </font><ul><li>The single component to interact directly<ul><li>accept commands that view or change the state of the cluster,<li>including launching pods.</ul><li>Kube-API server also authenticates incoming requests<ul><li>determines whether they are authorized, invalid,<li>and manages admission control.</ul><li>Kube-API server talk with kubectl, and any query or change to the cluster state</ul><li> <font color="red"> Etcd </font><ul><li>the cluster’s database.<ul><li>reliably store the state of the cluster.</ul><li>includes all the cluster configuration data and more dynamic information<ul><li>such as what nodes are part of the cluster,<li>what pods should be running,<li>and where they should be running.</ul><li>not interact directly with etcd.<ul><li>kube-APIserver interacts with the database on behalf of the rest of the system.</ul></ul><li> <font color="red"> Kube-scheduler </font><ul><li>scheduling pods onto the nodes.<li>evaluates the requirements of each individual pod<ul><li>selects which node is most suitable.</ul><li>But it doesn’t actually launching pods onto nodes.<ul><li>it discovers a pod object that doesn’t yet have an assignment to a node,<li>it chooses a node<li>and simply write the name of that node into the pod object.</ul><li>when kube-scheduler decide where to run a pod<ul><li>It knows the state of all the nodes,<li>it obey constraints you defined on where a pod may run,<ul><li>based on hardware, software, and policy.</ul><li>Example<ul><li>specify certain pod is only allowed to run on nodes with a certain amount of memory.<li>define affinity specifications<ul><li>which cause groups of pods to prefer running on the same node.</ul><li>anti-affinity specifications<ul><li>which ensure that pods do not run on the same node.</ul></ul></ul></ul><li> <font color="red"> Kube-controller manager </font><ul><li>continuously monitors the state of a cluster through kube-APIserver.<ul><li>Whenever the current state of the cluster doesn’t match the desired state,<li>kube-controller manager will attempt to make changes, to achieve the desired state.</ul></ul><li> <font color="red"> controllers </font><ul><li>many Kubernetes objects are maintained by loops of code called controllers.<li>These loops of code handle the process of remediation.<li>Controllers will be very useful to you.<li>To be specific<ul><li>you all use certain kinds of Kubernetes controllers to manage workloads.<li>Example<ul><li>keeping three engine x pods always running.<ul><li>gather them together into a controller object called a deployment,<li>that not only keeps them running,<li>but also lets us scale them and bring them together underneath our front end.</ul><li>Other kinds of controllers have system-level responsibilities.<ul><li>node controller’s job is to monitor and respond when a node is offline.</ul></ul></ul></ul><li> <font color="red"> Kube-cloud-manager </font><ul><li>manages controllers that interact with underlying cloud providers.<ul><li>Example<li>manually launched a Kubernetes cluster on Google Compute Engine,</ul><li>responsible for bringing in GCP features like load balancers and storage volumes when you needed them.</ul><li> <font color="red"> node </font><ul><li>Each node runs a small family of control-plane components too.<li>For example, each node runs a kubelet.<li>kubelet<ul><li>Kubernetes agent on each node.<li>When the kube-APIserver wants to start a pod on a node, it connects to that node’s kubelet.<li>Kubelet uses the container runtime to start the pod and monitor its lifecycle<ul><li>including readiness and liveness probes, and reports back to kube-APIserver.<li> <font color="red"> container runtime </font><ul><li>is the software that knows how to launch a container from a container image.<li>Kubernetes offers several choices of container runtimes<li>Linux distribution, that GKE uses for its nodes, launches containers using containerd.<li>The runtime component of docker.</ul></ul></ul></ul><li> <font color="red"> Kube proxy </font><ul><li>maintain network connectivity among the pods in a cluster.<li>In open-source Kubernetes, using the firewalling capabilities of IP tables (in Linux kernel)</ul></ul><hr /><h2 id="gke-kubernetes-engine">GKE (Kubernetes Engine)</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/v9RlU7Z.png" alt="Screen Shot 2021-02-16 at 00.36.35" /></p><p>Google Kubernetes Engine GKE</p><ul><li>a way to orchestrate code in those containers.<ul><li>Setting up a Kubernetes cluster by hand is tons of work.</ul><li> <font color="red"> fully managed </font><ul><li>don’t have to provision the underlying resources<li>These operating systems are maintained by Google.<li>optimized to scale quickly and with a minimal resource footprint.</ul><li> <font color="red"> an orchestration system for applications in containers </font><ul><li>uses a <font color="red"> container-optimized operating system </font><ul><li> <font color="blue"> containerization </font><ul><li>a way to package code that’s designed to be highly portable and to use resources very efficiently.</ul><li> <font color="blue"> Kubernetes </font><ul><li>a way to orchestrate code in those containers.</ul></ul><li>automates deployment, scaling, load balancing, logging, and monitoring, and other management features<li>A managed environment for deploying containerized applications<li>run containerized applications on a Cloud environment that Google Cloud manages for you under the administrative control.</ul><li>Google Kubernetes Engine <font color="red"> extends Kubernetes management on GCP </font><ul><li>by adding features and integrating with other GCP services automatically<li> <font color="red"> adding features </font><ul><li>GKE supports<ul><li> <font color="blue"> cluster scaling </font><li> <font color="blue"> persistent disks </font><li> <font color="blue"> automated updates to the latest version of Kubernetes </font><li> <font color="blue"> and auto repair for unhealthy nodes </font><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>1. Just as Kubernetes support scaling workloads
</pre></table></code></div></div><li>GKE support scaling the cluster itself.<ol><li>direct the service to instantiate a <font color="blue"> Kubernetes system, cluster </font></ol><li>GKE clusters can be customized<ul><li>support different machine types, numbers of nodes and network settings.</ul><li>the resources used to build Kubernetes Engine clusters come from Compute Engine<ul><li> <font color="blue"> Kubernetes Engine workloads run in clusters built from Compute Engine virtual machines </font><li>Kubernetes Engine gets to take advantage of Compute Engine’s and Google VPC’s capabilities.</ul><li>If enable GKE’s <code class="language-plaintext highlighter-rouge">auto upgrade feature</code><ul><li>the clusters are automatically upgraded with the latest and greatest version of Kubernetes.<li>and you can enable automatic node upgrades too.<ol><li> <font color="blue"> nodes, the virtual machines </font><p>that host the containers inside of a GKE cluster</p></ol></ul><li>If enable GKE’s <code class="language-plaintext highlighter-rouge">auto repair feature</code><li>the service will automatically repair unhealthy nodes<ul><li>make periodic health checks on each node in the cluster.<li>If a node is determined to be unhealthy and requires repair, GKE would drain the node.<li>cause it’s workloads to gracefully exit and then recreate that node.</ul></ul></ul><li> <font color="red"> seamlessly integrates with </font><ol><li>with <font color="blue"> Google Cloud build and container registry. </font><ul><li>create container using Cloud Build<li>and storing a container in Container Registry.<li>automate deployment using private container images that securely stored in container registry.</ul><li>with <font color="blue"> Google's identity and access management </font><ul><li>control access through the use of accounts and role permissions.</ul><li>with <font color="blue"> Stackdriver monitoring </font><ul><li>Stackdriver, Google Cloud system for monitoring and management for services, containers, applications, and infrastructure.<li>to help you understand the applications performance.</ul><li>with <font color="blue"> Google VPCs </font> virtual private clouds<ul><li>makes use of GCP’s networking features.</ul><li> <font color="blue"> the GCP console </font><ul><li>provides insights into GKE clusters and the resources<li>view, inspect and delete resources in those clusters.<li>open source Kubernetes<ul><li>contains a dashboard<li>but takes a lot of work to set it up securely.</ul><li>the GCP console<ul><li>dashboard for GKE clusters and workloads that you don’t have to manage.<li>more powerful than the Kubernetes dashboard.</ul></ul><li> <font color="blue"> Existing workloads running within on-premise clusters can easily be moved on to GCP </font></ol></ul><li>very well suited for<ul><li>containerized applications.<li>Cloud-native distributed systems and hybrid applications.</ul></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/0nlsQ3W.png" alt="Screen Shot 2021-02-12 at 01.19.15" /></p><hr /><h2 id="to-build-kubernetes-cluster">to build Kubernetes cluster</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/o0IN3Ou.png" alt="Screen Shot 2021-02-07 at 14.45.26" /></p><ul><li>deploy containers on a set of nodes called cluster</ul><p>to build Kubernetes cluster</p><ol><li>build on the own hardware/environment that provides virtual machines<ul><li>built it theself, you have to maintain it.<li>That’s even more toil.</ul><li> <font color="red"> Google Kubernetes Engine GKE </font><ul><li>deploy, manage and scale Kubernetes environments for the containerized applications on GCP.<ul><li>easy to brings Kubernetes as a managed service on Google Cloud Platform.<li>building, scheduling, load balancing, and monitoring workloads,<li>providing for discovery of services,<li>managing role-based access control and security,<li>and providing persistent storage to these applications.</ul><li>a component of the GCP compute offerings</ul></ol><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/VHpeVXq.png" alt="Screen Shot 2021-02-12 at 01.06.57" /></p><hr /><h3 id="build-kubernetes-cluster-deploy-pods-by-kubernetes-engine">build Kubernetes cluster, deploy pods, by Kubernetes Engine</h3><blockquote><p>deploy a Kubernetes cluster using GKE, deploy pods to a GKE cluster and view and managed Kubernetes objects.</p></blockquote><ul><li>create a Kubernetes cluster with Kubernetes Engine<ul><li>by <code class="language-plaintext highlighter-rouge">GCP console</code><li>or the <code class="language-plaintext highlighter-rouge">g-cloud command</code> by the Cloud SDK.</ul></ul><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="c"># ------------------- google cloud shell</span>
gcloud compute instances list

<span class="c"># set up the zone</span>
<span class="nb">export </span><span class="nv">MY_ZONE</span><span class="o">=</span>us-cnetral1-f


<span class="c"># ------------------- building a Kubernetes cluster using GKE.</span>
gcloud container clusters create webfrontend <span class="se">\</span>
    <span class="nt">--zone</span> <span class="nv">$MY_ZONE</span> <span class="se">\</span>
    <span class="nt">--num-nodes</span> 2
<span class="c"># cloud console</span>
<span class="c"># &gt; Compute Engine: VM instances</span>
<span class="c"># &gt; Kubernetes Engine: Kubernetes clusters</span>

<span class="c"># check the version</span>
kubectl version


<span class="c"># ------------------- starts a deployment with a container running a pod.</span>
<span class="c"># - the container is an image of nginx open source web server.</span>
<span class="c"># - fetch an image of nginx container registry.</span>
kubectl run nginx <span class="se">\</span>
    <span class="nt">--image</span><span class="o">=</span>nginx:1.15.7
<span class="c"># deployment "nginx" created</span>

<span class="c"># To see the running nginx pods,</span>
kubectl get pods


<span class="c"># ------------------- create service</span>
kubectl expose deployment nginx <span class="se">\</span>
    <span class="nt">--port</span> 80 <span class="se">\</span>
    <span class="nt">--type</span> LoadBalancer
<span class="c"># service "nginx" exposed</span>

<span class="c"># shows you the service's public IP address.</span>
kubectl get services

<span class="c"># use this address to hit the nginx container remotely.</span>



<span class="c"># ------------------- To scale a deployment</span>
kubectl scale deployment nginx <span class="nt">--replicas</span>  
kubectl get pods  <span class="c"># got 3 now</span>


<span class="c"># To auto scale a deployment based on CPU usage.</span>
<span class="c"># Kubernetes will scale up the number of pods when CPU usage hits 80% of capacity</span>
kubectl autoscale nginx <span class="nt">--min</span><span class="o">=</span>10 <span class="nt">--max</span><span class="o">=</span>15 <span class="nt">--cpu</span><span class="o">=</span>80

</pre></table></code></div></div><hr /><h3 id="deployment">deployment</h3><ul><li> <font color="red"> deployment </font><ul><li>A deployment: represents <font color="blue"> a group of replicas of the same pod. </font><li>keeps the pods running<ul><li>even if a node on which some of them run on fails.</ul><li>use a deployment to contain a component of application or entire application.</ul></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/vZNKFIV.png" alt="Screen Shot 2021-02-07 at 15.30.03" /></p><blockquote><p>cluster &gt; master + node &gt; pod &gt; containers</p></blockquote><hr /><h3 id="services">Services</h3><p>Services</p><ul><li>provide load-balanced access to specified Pods.<li>There are three primary types of Services:<ul><li>ClusterIP:<ul><li>Exposes the service on an IP address that is only accessible from within this cluster.<li>the default type.</ul><li>NodePort:<ul><li>Exposes the service on the IP address of each node in the cluster, at a specific port number.</ul><li>LoadBalancer:<ul><li>Exposes the service externally,<li>using a load balancing service provided by a cloud provider.</ul></ul><li>In Google Kubernetes Engine<ul><li>LoadBalancers give you access to a <font color="blue"> regional Network Load Balancing configuration </font> by default.<li>To get access to a <font color="blue"> global HTTP(S) Load Balancing configuration </font>, use an Ingress object.</ul></ul><font color="red"> pod access </font><ul><li><p>default: pods in a deployment is <font color="blue"> only accessible inside the cluster </font></p><li>To <font color="blue"> make the pods in the deployment publicly available </font><ul><li>to let people on the Internet to access the content in nginx web server<li> <font color="red"> connect a load balancer </font><p>to it</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl expose deployments nginx <span class="nt">--port</span><span class="o">=</span>80 <span class="nt">--type</span><span class="o">=</span>LoadBalancer
</pre></table></code></div></div><ol><li>Kubernetes <font color="blue"> creates a service with a fixed public IP address </font> for the pods.<ul><li>A <font color="red"> service </font><ul><li>the fundamental way Kubernetes represents load balancing.<li>A service groups a set of pods together and provides a stable endpoint for them.<li>Suppose the application consisted of a front end and a back end.<ul><li> <font color="blue"> the front end can access the back end using those pods' internal IP addresses </font><li>without the need for a service<li>but it would be a management problem.<ul><li>As deployments create and destroy pods, pods get their own IP addresses,<li>but those addresses don’t remain stable over time.</ul><li> <font color="blue"> Services provide that stable endpoint you need </font></ul></ul></ul><li>Kubernetes <font color="blue"> attach an external load balancer with a public IP address to the service </font><ul><li>so that others outside the cluster can access it.</ul><li>Any client hits that IP address<ul><li>will be routed to a pod behind the service.</ul></ol><ul><li>In GKE, this kind of load balancer is <font color="red"> network load balancer </font><ul><li>one of the managed load balancing services that Compute Engine makes available to virtual machines.</ul></ul></ul><li> <font color="red"> replica </font><ul><li>This technique allows you to share the load and scale the service in Kubernetes.</ul></ul><hr /><h2 id="kubernetes-object-model">Kubernetes object model.</h2><ul><li>Each thing Kubernetes manages is represented by an object.<ul><li>can view and change these objects, attributes, and state.</ul><li>the principle of declarative management,<ul><li>tell it what you want, the state of the objects under each management to be.<li>Kubernetes will work to bring that state into being and keep it there.</ul><li>Kubernetes object<ul><li>is defined as a persistent entity<li>represents the state of something running in a cluster, it’s desired state and its current state.<li>Various kinds of objects represent containerized applications, the resources that are available to them, and the policies that affect their behavior.</ul></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/diYW6tQ.png" alt="Screen Shot 2021-02-15 at 20.44.14" /></p><ul><li>Kubernetes objects have two important elements.<ul><li>objects spec<ul><li>You give Kubernetes an objects spec for each object you wanted to create.<li>define the desired state of the object<li>providing the characteristics that you want.</ul><li>The object’s status<ul><li>the current state of the object provided by the Kubernetes control plane.</ul></ul><li>Kubernetes control plane:<ul><li>the various system processes that collaborate to make a Kubernetes cluster work.</ul></ul><hr /><h3 id="configuration-file">configuration file</h3><p>define the objects you want Kubernetes to create and maintain with manifest files.</p><ul><li> <font color="red"> configuration file </font><ul><li>use configuration file tells Kubernetes the desired state<li>These configuration files then become the management tools.<li>To make a change, edit the file and then present the changed version to Kubernetes.</ul></ul><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="c1"># configuration file</span>

<span class="c1"># get a starting point for one of these files based on the work we've already done.</span>
<span class="s">kubectl get pods -l "app=nginx" -o yaml</span>
<span class="c1"># output</span>

<span class="c1"># nginx.deployment.yaml</span>
<span class="na">apiVerison</span><span class="pi">:</span> <span class="s">v1</span> <span class="c1"># which Kubernetes API version is used to create the object.</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span>
<span class="na">spec</span><span class="pi">:</span>
    <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>  <span class="c1"># 3 replicas of the nginx pod</span>
    <span class="na">selector</span><span class="pi">:</span>    <span class="c1"># how to group specific pods as replicas</span>
        <span class="na">matchLabels</span><span class="pi">:</span>   <span class="c1"># all of those specific pods share a label</span>
            <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span> <span class="c1"># app is tagged as nginx</span>
    <span class="na">tamplate</span><span class="pi">:</span>
        <span class="na">metadata</span><span class="pi">:</span>
            <span class="na">labels</span><span class="pi">:</span>
                <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span>
        <span class="na">spec</span><span class="pi">:</span>
            <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
              <span class="na">image</span><span class="pi">:</span> <span class="na">nginx</span><span class="pi">:</span> <span class="s">1.15.7</span>
              <span class="na">ports</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">80</span>

<span class="c1"># --------------- 1.</span>
<span class="c1"># To scale a deployment</span>
<span class="s">kubectl scale nginx --replicas=3</span>
<span class="c1"># To auto scale a deployment based on CPU usage.</span>
<span class="c1"># Kubernetes will scale up the number of pods when CPU usage hits 80% of capacity</span>
<span class="s">kubectl autoscale nginx --min=10 --max=15 --cpu=80</span>

<span class="c1"># --------------- 2. edit the deployment config file</span>
<span class="c1"># then updated config file.</span>
<span class="s">kubectl apply -f nginx.deployment.yaml</span>

<span class="c1"># view the replicas and see their updated state.</span>
<span class="s">kubectl get replicasets</span>

<span class="c1"># watch the pods come online.</span>
<span class="s">kubectl get pods</span>

<span class="c1"># check the deployments to make sure the proper number of replicas are running</span>
<span class="s">kubectl get deployments</span>

<span class="c1"># shows public IP of the service</span>
<span class="c1"># Clients can use this address to hit the nginx container remotely.</span>
<span class="s">kubectl get services</span>

</pre></table></code></div></div><hr /><h3 id="update-version-of-the-applicationcontainer">update version of the application/container</h3><ul><li> <font color="red"> update version of the application/container </font><ul><li> <font color="red"> roll out all changes at once </font><ul><li>could be risky<li>users experience downtime while the application rebuilds and redeploys.</ul><li> <font color="red"> rolling update </font><ul><li>one attribute of a deployment is its update strategy.<li>example<ul><li>choose a rolling update for a deployment<li>when give it a new version of the software that it manages,<li>Kubernetes will <font color="blue"> create pods of the new version one-by-one </font><li> <font color="red"> waiting for each new version pod to become available before destroying one of the old version pods </font></ul><li>a quick way to push out a new version of the application<li>while sparing the users from experiencing downtime.</ul></ul></ul><hr /><h2 id="modern-hybrid-on-multi-cloud-computing-anthos">modern Hybrid on Multi-Cloud Computing (Anthos)</h2><hr /><h3 id="on-premises-distributed-systems-architecture">on-premises distributed systems architecture.</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/dX9TDe3.png" alt="Screen Shot 2021-02-07 at 23.20.20" /></p><blockquote><p>how business is traditionally made the enterprise computing needs before cloud computing.</p></blockquote><ul><li>most enterprise scale applications are designed as distributed systems.<ul><li>Spreading the computing workload required to provide services over two or more network servers.<li>containers can break these workloads down into microservices,<li>more easily maintained and expanded.</ul><li>Traditionally, Enterprise systems and workloads, containerized or not, have been housed on-premises,<ul><li>housed on a set of high-capacity servers running in the company’s network or data center.</ul><li> <font color="red"> on-premises systems </font><ul><li>When an application’s computing needs begin to outstrip its available computing resources<ul><li>would need to procure more powerful servers.<li>Install them on the company network after any necessary network changes or expansions.<li>Configure the new servers<li>and finally load the application and it’s dependencies onto the new servers before resource bottlenecks could be resolved.</ul><li>shortcut<ul><li>The time required to complete an on-premises upgrade could be from months to years.<li>also costly, the useful lifespan of the average server is only three to five years.</ul></ul></ul><blockquote><p>what if you need more computing power now, not months from now? What if the company wants to begin to relocate some workloads away from on-premises to the Cloud to take advantage of lower cost and higher availability, but is unwilling or unable to move the enterprise application from the on-premises network? What if you want to use specialized products and services that only available in the Cloud? This is where a modern hybrid or multi-cloud architecture can help.</p></blockquote><hr /><h3 id="modern-hybrid-on-multi-cloud-architecture">modern hybrid ON multi-cloud architecture</h3><ul><li>creating an environment uniquely suited to the company’s needs.<ul><li>keep parts of the systems infrastructure on-premises<li>Move only specific workloads to the Cloud at the own pace<ul><li>because a full scale migration is not required for it to work.</ul></ul><li>benefits:<ul><li>Take advantage of the cloud services for running the workloads you decide to migrate.<ul><li> <font color="red"> flexibility, scalability, and lower computing costs </font></ul><li>Add specialized services to the computing resources tool kit.<ul><li>such as <font color="red"> machine learning, content caching, data analysis, long-term storage, and IoT </font></ul></ul><li>the adoption of hybrid architecture for powering distributed systems and services.</ul><hr /><h2 id="anthos">Anthos</h2><ul><li>modern solution for <font color="blue"> hybrid and multi-cloud distributed systems and service management </font><ul><li>powered by the latest innovations in distributed systems, and service management software from Google.</ul><li>On-permises and Cloud environments stay in sync<ul><li>The Anthos framework rests on Kubernetes and GKE on-prem.</ul><li>provides<ul><li>the foundation for an architecture<ul><li>the foundation that is fully integrated with centralized management through a central control plane that supports <font color="blue"> policy based application lifecycle </font> delivery across <font color="blue"> hybrid and multi-cloud environments </font></ul><li>a rich set of tools<ul><li>Manage sevices on-permises and in the cloud<li>monitor systems and services<ul><li>for monitoring and maintaining the consistency of the applications across all network (on-premises, Cloud, multiple clouds)</ul><li>migrate application from VMs into the clusters<li>maintain consistent policies across across all network (on-premises, Cloud, multiple clouds)</ul></ul></ul><hr /><h3 id="build-a-modern-hybrid-infrastructure-stack-with-anthos">build a modern hybrid infrastructure stack with Anthos.</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/7LTuSeN.png" alt="Screen Shot 2021-02-07 at 23.50.31" /></p><ul><li> <font color="red"> Google Kubernetes Engine on the Cloud site </font><p>of the hybrid network.</p><ul><li>Google Kubernetes Engine is a managed production-ready environment for <font color="blue"> deploying containerized applications </font><li>Operates seamlessly with high availability and an SLA.<li>Runs certified Kubernetes ensuring portability across clouds and on-premises.<li>Includes auto-node repair, and auto-upgrade, and auto-scaling.<li>Uses regional clusters for high availability with multiple masters.<li>Node storage replication across multiple zones.</ul><li> <font color="red"> Google Kubernetes Engine deployed ON-PREM </font><ul><li>a turn-key production-grade conformed version of Kubernetes<li>with the best practice configuration already pre-loaded.<li>Provides<ul><li> <font color="blue"> easy upgrade path to the latest validated Kubernetes releases </font><p>by Google.</p><li> <font color="blue"> Provides access to container services </font><p>on Google Cloud platform,</p><ul><li>such as Cloud build, container registry, audit logging, and more.</ul><li> <font color="blue"> integrates with Istio, Knative and Marketplace Solutions </font></ul><li>Ensures a consistent Kubernetes version and experience across Cloud and on-premises environments.</ul><li> <font color="red"> Marketplace </font><ul><li>both <font color="blue"> Google Kubernetes Engine in the Cloud </font> and <font color="blue"> Google Kubernetes Engine deployed on-premises </font> integrate with <font color="blue"> Marketplace </font><li>so all of the clusters in network (on-premises or in the Cloud), have access to the same repository of containerized applications.<li>benefits:<ul><li>use the same configurations on both the sides of the network,<li>reducing the time spent developing applications.<li>use ones replicate anywhere<li>maintaining conformity between the clusters.</ul></ul></ul><blockquote><p>Enterprise applications may use hundreds of microservices to handle computing workloads. Keeping track of all of these services and monitoring their health can quickly become a challenge.</p></blockquote><ul><li> <font color="red"> Anthos </font><ul><li>an Istio Open Source service mesh<li>take these guesswork out of managing and securing the microservices.</ul><li> <font color="red"> Cloud interconnect </font><ul><li>These service mesh layers communicate across the hybrid network by Cloud interconnect<li>to sync and pass their data.</ul><li> <font color="red"> Stackdriver </font><ul><li>the <font color="blue"> built-in logging and monitoring solution </font> for Google Cloud.<ul><li>offers a fully managed logging, metrics collection, monitoring dashboarding, and alerting solution that watches all sides of the hybrid on multi-cloud network.</ul><li>the ideal solution for <font color="blue"> single easy configure powerful cloud-based observability solution </font><li>a single pane of class dashboard to monitor all of the environments.</ul><li> <font color="red"> Anthos Configuration Management </font><ul><li>provides<ul><li>a single source of truth for the clusters configuration.<ul><li>source of truth is kept in the policy repository, a git repository.<li>this repository can be located on-premises or in the Cloud.</ul><li>deploy code changes with a single repository commit.<li>implement configuration inheritance, by using namespaces.</ul></ul><li> <font color="red"> Anthos Configuration Management agents </font><ul><li>use the policy repository to enforce configurations locally in each environment,<li>managing the complexity of owning clusters across environments.</ul></ul><p>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/21gcp/'>21GCP</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gcp/" class="post-tag no-text-decoration" >GCP</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine - Grace&url=https://ocholuo.github.io//posts/kubernete-engine/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine - Grace&u=https://ocholuo.github.io//posts/kubernete-engine/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine - Grace&url=https://ocholuo.github.io//posts/kubernete-engine/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://ocholuo.github.io//posts/kubernete-engine/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/CI-CD/">CI/CD - Continuous Integration & Continous Delivery</a><li><a href="/posts/Github-Action-example/">CI/CD - Github Action Template</a><li><a href="/posts/CloudMap/">AWS - EKS - Cloud Map</a><li><a href="/posts/DataWrangler/">AWS - ML - Data Wrangler</a><li><a href="/posts/0CodePipeline/">AWS - CodeDevelop - CodePipeline</a><li><a href="/posts/1CodeCommit/">AWS - CodeDevelop - CodeCommit</a><li><a href="/posts/2CodeBuild/">AWS - CodeDevelop - CodeBuild</a><li><a href="/posts/2CodeBuildTemplate-buildspec/">AWS - CodeDevelop - CodeBuild - buildspec.yml Template</a><li><a href="/posts/ElasticBeanstalk/">AWS - CodeDevelop - ElasticBeanstalk</a><li><a href="/posts/CourseREADME/">Course - Learning Path</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/soc/">SOC</a> <a class="post-tag" href="/tags/network/">Network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/BigData-ML/"><div class="card-body"> <span class="timeago small" > Jan 1 <i class="unloaded">2021-01-01T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GCP - Big Data and Machine Learning</h3><div class="text-muted small"><p> Big Data and Machine Learning Google Cloud Big Data Platform Cloud Dataproc cloud Dataflow Cloud BigQuery Cloud Pub/Sub Cloud Datalab Cloud ML Mach...</p></div></div></a></div><div class="card"> <a href="/posts/GCP-Network/"><div class="card-body"> <span class="timeago small" > Jan 1 <i class="unloaded">2021-01-01T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GCP - Network</h3><div class="text-muted small"><p> GCP - Virtual Private Cloud Virtual Private Cloud Specifications Default network subnet Subnet creation mode ...</p></div></div></a></div><div class="card"> <a href="/posts/GCP/"><div class="card-body"> <span class="timeago small" > Jan 1 <i class="unloaded">2021-01-01T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GCP - Google Cloud Platform Fundamentals - Core Infrastructure</h3><div class="text-muted small"><p> GCP Google Cloud Platform Fundamentals - Core Infrastructure overview GCP regions and zones security pricing interact with Google Cloud Open...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/development-cloud/" class="btn btn-outline-primary" prompt="Older"><p>GCP - Development in the cloud</p></a> <a href="/posts/Cloud-IAM/" class="btn btn-outline-primary" prompt="Newer"><p>GCP - Cloud IAM</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//https-ocholuo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine'; this.page.url = 'https://ocholuo.github.io//posts/kubernete-engine/'; this.page.identifier = '/posts/kubernete-engine/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/soc/">SOC</a> <a class="post-tag" href="/tags/network/">Network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
