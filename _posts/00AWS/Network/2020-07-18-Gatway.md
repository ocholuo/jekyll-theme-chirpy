---
title: AWS - VPC Gateway
date: 2020-07-18 11:11:11 -0400
categories: [00AWS, Network]
tags: [AWS, Network, VPC]
toc: true
image:
---

[toc]

---

# Gatway


Gateway terminology:
- Internet gateway (IGW) – AWS VPC side of the connection to the public Internet.
- Virtual private gateway (VPG) – VPC endpoint on the AWS side.
- Customer gateway (CGW) – representation of the customer end of the connection.

![Screen Shot 2020-05-05 at 22.55.55](https://i.imgur.com/5scnyES.png)

---

how subnets, gateways, and routes work together.
- This diagram, we have two Availability Zones, two instances and private subnets, the NAT instance with the public IP address, and the public subnet.
- have an internet gateway connected to the VPC.
- have a NAT instance, it needs a route to the internet gateway so that the instance can talk to the internet.
  - the internet is in the route table, as indicated by the 0.0.0.0/0 address. 
  - The targets that use the internet gateway have the local route group, 10.0.0.0/20 address.
- to let private subnet connect to the internet
  - go through the NAT instance. 
  - The 0.0.0.0 address indicates that it must route to the NAT. 
  - The NAT will route the request to the Internet.
- The second private instance currently has no route. 
  - If that instance needs to go to the internet, 
  - a route needs to be created to the NAT instance with the public IP address 0.0.0.0/0 with the target of NAT. 
  - This will enable the private instances to access the internet
- You can further tighten security using security groups.
  - a security group for the two private instances.
  - a security group for the public NAT group.
  - The security groups and the route tables helps control traffic within the VPC.
- The diagram also contains a DynamoDB instance
  - sits outside of the VPC, but in the same Region as the VPC.
  - Traffic could be routed to it via the internet gateway.
  - there will be some services that reside outside of your VPC. One of those services is DynamoDB.


![Screen Shot 2020-06-22 at 01.29.15](https://i.imgur.com/TmNLrjK.png)


.
